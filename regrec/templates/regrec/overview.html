{% extends "regrec/results.html" %}

{% load i18n %}
{% load regrec_timedeltas %}

{% block nav_title %}{{ event.name }}{% endblock%}

{% block results_tab %}
  <table id="overview" class="table table-striped table-hover">
    <thead>
      <tr>
        <th>{% trans "Yacht" %}</th>
        <th>{% trans "Type" %}</th>
        <th>{% trans "Yardstick" %}</th>
        <th>{% trans "Skipper" %}</th>
        <th>{% trans "Overall Result" %}</th>
      </tr>
    </thead>
    <tbody>
      {% for yacht in event.yachts.all %}
      <tr>
        <td>{{ yacht.name }}</td>
        <td>{{ yacht.model }}</td>
        <td>{{ yacht.yardstick }}</td>
        <td>{{ yacht.skipper }}</td>
        <td>{{ yacht.result|crop_timedelta }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}

{% block extra_js %}
  <script>
    $(document).ready(function() {
      $("#overview").dataTable({
        "order": [[4, 'asc'], [2, 'desc']],
        "bPaginate": false,
        "bInfo": false,
        "bFilter": false,
      });
    });
  </script>
{% endblock %}